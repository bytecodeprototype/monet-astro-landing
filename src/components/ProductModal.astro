<div class="modal-backdrop" id="modalBackdrop">
    <div class="modal-content">
        <button class="modal-close" onclick="closeProduct()">
            <svg class="icon" viewBox="0 0 24 24">
                <line x1="18" y1="6" x2="6" y2="18"></line>
                <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
        </button>

        <div class="modal-left">
            <img id="modalImg" src="" alt="" />
        </div>

        <div class="modal-right">
            <span class="badge modal-badge" id="modalBadge"></span>
            <h2 id="modalTitle" class="modal-title"></h2>
            <p id="modalDesc" class="modal-desc"></p>

            <div class="modal-specs">
                <div class="spec-item">
                    <b>Caja</b><span id="specCase"></span>
                </div>
                <div class="spec-item">
                    <b>Mecanismo</b><span id="specMov"></span>
                </div>
                <div class="spec-item">
                    <b>Cristal</b><span id="specGlass"></span>
                </div>
            </div>

            <a id="modalCta" href="#" class="btn btn-whatsapp modal-cta">
                <svg class="icon" viewBox="0 0 24 24">
                    <path
                        d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"
                    ></path>
                </svg>
                Comprar por WhatsApp
            </a>
            <p class="modal-note">Env칤o asegurado incluido</p>
        </div>
    </div>
</div>

<script>
    const NUMBER = "573014914532"; // 游님 Tu n칰mero aqu칤 (sin el +)

    const products = {
        tissot: {
            title: "Tissot PRX Powermatic 80",
            desc: "El reloj que defini칩 una era, reinventado. Con su brazalete integrado y dial 'Ice Blue' con textura waffle, es la combinaci칩n perfecta de deportividad y elegancia. Maquinaria suiza autom치tica con 80 horas de reserva.",
            img: "assets/prx.png",
            badge: "M치s Buscado",
            specs: {
                case: "40mm",
                mov: "Autom치tico 80h",
                glass: "Zafiro",
            },
            wa: "Hola, quiero comprar el Tissot PRX Ice Blue.",
        },
        seiko: {
            title: "Seiko 5 'Arabic Dial'",
            desc: "Una pieza de culto instant치nea. Fabricado originalmente para el mercado de Oriente Medio, destaca por sus n칰meros indo-ar치bigos. Una rareza ex칩tica en 40mm que todo coleccionista busca.",
            img: "assets/seiko.svg",
            badge: "Pieza de Culto",
            specs: {
                case: "40mm",
                mov: "Autom치tico 4R36",
                glass: "Hardlex",
            },
            wa: "Hola, me interesa el Seiko 5 Arabic Dial.",
        },
        orient: {
            title: "Orient Ray II Diver",
            desc: "Posiblemente el mejor 'Diver' en su rango de precio. Certificaci칩n de 200 metros, corona roscada y un movimiento in-house robusto. El reloj herramienta definitivo para el d칤a a d칤a.",
            img: "assets/orient.svg",
            badge: "Best Value",
            specs: {
                case: "41.5mm",
                mov: "Autom치tico F6922",
                glass: "Mineral",
            },
            wa: "Hola, quiero informaci칩n del Orient Ray II.",
        },
    };

    const modal = document.getElementById("modalBackdrop");
    const modalImg = document.getElementById("modalImg");

    window.openProduct = function openProduct(id) {
        const p = products[id];
        if (!p) return;

        document.getElementById("modalTitle").textContent = p.title;
        document.getElementById("modalDesc").textContent = p.desc;
        document.getElementById("modalBadge").textContent = p.badge;

        modalImg.src = p.img;
        // Quitamos filtros ya que ahora son fotos reales
        modalImg.style.filter = "none";

        document.getElementById("specCase").textContent = p.specs.case;
        document.getElementById("specMov").textContent = p.specs.mov;
        document.getElementById("specGlass").textContent = p.specs.glass;

        const btn = document.getElementById("modalCta");
        btn.href = `https://wa.me/${NUMBER}?text=${encodeURIComponent(p.wa)}`;

        modal.classList.add("active");
        document.body.classList.add("modal-open");
    };

    window.closeProduct = function closeProduct() {
        modal.classList.remove("active");
        document.body.classList.remove("modal-open");
    };

    modal.addEventListener("click", (e) => {
        if (e.target === modal) closeProduct();
    });

    document.addEventListener("keydown", (e) => {
        if (e.key === "Escape" && modal.classList.contains("active"))
            closeProduct();
    });

    document.querySelectorAll("[data-wa]").forEach((el) => {
        if (!el.id.includes("modal")) {
            const text = encodeURIComponent(el.getAttribute("data-wa"));
            el.href = `https://wa.me/${NUMBER}?text=${text}`;
        }
    });
</script>
